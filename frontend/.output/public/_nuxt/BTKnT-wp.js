import{_ as j}from"./CyJ7lqwL.js";import{_ as M}from"./TrVZK8xw.js";import{q as N,e as z,r as L,A as g,j as B,c as n,b as a,a as t,w as c,i as o,h as m,t as i,d,x as f,o as l}from"./DYlgVOq5.js";import{u as R}from"./Cf6dUNb6.js";import"./Bo_PBiFp.js";import"./Bjy1Ed27.js";import"./8hyyyOHM.js";import"./BwzGxkg-.js";import"./CBaYzeil.js";import"./DFhEUFyw.js";import"./DlAUqK2U.js";const V={class:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8"},$={class:"px-4 py-6 sm:px-0"},A={class:"flex items-center justify-between mb-8"},D={key:0,class:"flex justify-center py-8"},G={key:1,class:"space-y-6"},P={class:"bg-white shadow rounded-lg"},S={class:"px-6 py-4"},q={class:"flex items-center mb-6"},E={class:"h-20 w-20 rounded-full bg-blue-600 flex items-center justify-center text-white text-2xl font-medium"},I={class:"ml-6"},T={class:"text-xl font-semibold text-gray-900"},U={class:"text-gray-600"},F={class:"flex flex-wrap gap-2 mt-2"},H={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},W={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},K={class:"text-sm text-gray-900"},O={class:"text-sm text-gray-900"},Q={class:"md:col-span-2"},X={key:0,class:"text-sm text-gray-900"},Y={key:0},Z={key:1},tt={key:1,class:"text-sm text-gray-500"},et={class:"text-sm text-gray-900"},st={class:"text-sm text-gray-900"},ot={class:"bg-white shadow rounded-lg"},nt={class:"px-6 py-4"},it={key:0,class:"space-y-4"},lt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},rt={class:"text-sm text-gray-900 font-mono"},at={class:"text-sm text-gray-900 font-mono"},dt={class:"flex flex-wrap gap-3 mt-4"},ut=["href"],ct=["href"],mt={key:1,class:"text-center py-8 text-gray-500"},xt={key:0,class:"bg-white shadow rounded-lg"},pt={class:"px-6 py-4"},gt={class:"text-sm text-gray-900 whitespace-pre-wrap"},ft={class:"flex justify-end space-x-4"},yt={key:2,class:"text-center py-8"},Bt={__name:"[id]",setup(_t){const y=N(),_=z(),{fetchClient:b,loading:v}=R(),x=y.params.id,s=L(null),h=g(()=>!s.value?.latitude||!s.value?.longitude?"#":`https://www.google.com/maps/search/?api=1&query=${s.value.latitude},${s.value.longitude}`),w=g(()=>!s.value?.latitude||!s.value?.longitude?"#":`https://waze.com/ul?ll=${s.value.latitude}%2C${s.value.longitude}&navigate=yes`),p=r=>r?new Date(r).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non d√©finie",k=()=>{_.push(`/clients/${x}/edit`)};return B(async()=>{try{const r=await b(x);r&&(s.value=r)}catch(r){console.error("Erreur lors du chargement du client:",r)}}),(r,e)=>{const C=j,u=M;return l(),n("div",null,[a(C),t("main",V,[t("div",$,[t("div",A,[e[1]||(e[1]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},"D√©tails client"),t("p",{class:"text-gray-600 dark:text-gray-400"},"Informations d√©taill√©es du client")],-1)),a(u,{to:"/clients",class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors"},{default:c(()=>e[0]||(e[0]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),d(" Retour √† la liste ",-1)])),_:1,__:[0]})]),o(v)?(l(),n("div",D,e[2]||(e[2]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)]))):o(s)?(l(),n("div",G,[t("div",P,[e[8]||(e[8]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Informations g√©n√©rales")],-1)),t("div",S,[t("div",q,[t("div",E,i(o(s).nom?.[0]||"C"),1),t("div",I,[t("h2",T,i(o(s).nom),1),t("p",U,i(o(s).contact_principal||"Pas de contact principal"),1),t("div",F,[o(s).latitude&&o(s).longitude?(l(),n("span",H," üìç G√©olocalis√© ")):(l(),n("span",W," üìç Position manquante "))])])]),t("div",J,[t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Email ",-1)),t("p",K,i(o(s).email||"Non renseign√©"),1)]),t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," T√©l√©phone ",-1)),t("p",O,i(o(s).telephone||"Non renseign√©"),1)]),t("div",Q,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Adresse ",-1)),o(s).adresse||o(s).ville||o(s).code_postal?(l(),n("div",X,[o(s).adresse?(l(),n("div",Y,i(o(s).adresse),1)):m("",!0),o(s).ville||o(s).code_postal?(l(),n("div",Z,i(o(s).ville)+" "+i(o(s).code_postal),1)):m("",!0)])):(l(),n("p",tt,"Adresse non renseign√©e"))]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Cr√©√© le ",-1)),t("p",et,i(p(o(s).created_at)),1)]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Mis √† jour le ",-1)),t("p",st,i(p(o(s).updated_at)),1)])])])]),t("div",ot,[e[13]||(e[13]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900"},"üåç Localisation GPS")],-1)),t("div",nt,[o(s).latitude&&o(s).longitude?(l(),n("div",it,[t("div",lt,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Latitude ",-1)),t("p",rt,i(o(s).latitude),1)]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Longitude ",-1)),t("p",at,i(o(s).longitude),1)])]),t("div",dt,[t("a",{href:o(h),target:"_blank",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},e[11]||(e[11]=[t("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})],-1),d(" Voir sur Google Maps ",-1)]),8,ut),t("a",{href:o(w),target:"_blank",class:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," üß≠ Navigation Waze ",8,ct)])])):(l(),n("div",mt,e[12]||(e[12]=[f('<svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg><p class="mt-2">Aucune coordonn√©e GPS renseign√©e</p><p class="text-sm">Modifiez le client pour ajouter sa localisation</p>',3)])))])]),o(s).notes?(l(),n("div",xt,[e[14]||(e[14]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900"},"üìù Notes")],-1)),t("div",pt,[t("div",gt,i(o(s).notes),1)])])):m("",!0),t("div",ft,[a(u,{to:"/clients",class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors"},{default:c(()=>e[15]||(e[15]=[d(" Retour ",-1)])),_:1,__:[15]}),t("button",{onClick:k,class:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors"}," Modifier ")])])):(l(),n("div",yt,[e[17]||(e[17]=f('<div class="text-red-600 mb-4"><svg class="mx-auto h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><h3 class="text-lg font-medium text-gray-900 mb-2">Client non trouv√©</h3><p class="text-gray-500 mb-4">Le client demand√© n&#39;existe pas ou n&#39;est plus accessible.</p>',3)),a(u,{to:"/clients",class:"btn-primary"},{default:c(()=>e[16]||(e[16]=[d(" Retour √† la liste ",-1)])),_:1,__:[16]})]))])])])}}};export{Bt as default};
