import{_ as R}from"./CyJ7lqwL.js";import{_ as T}from"./TrVZK8xw.js";import B from"./D5k--mLm.js";import{q as D,e as I,r as f,j as V,c as l,b as a,a as t,w as d,i as r,g as A,h as _,x as L,o as i,d as c,t as o,n as x}from"./DYlgVOq5.js";import{u as v}from"./DSFzkygU.js";import"./Bo_PBiFp.js";import"./Bjy1Ed27.js";import"./8hyyyOHM.js";import"./BwzGxkg-.js";import"./CBaYzeil.js";import"./DFhEUFyw.js";import"./DlAUqK2U.js";const U={class:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8"},S={class:"px-4 py-6 sm:px-0"},z={class:"flex items-center justify-between mb-8"},E={key:0,class:"flex justify-center py-8"},F={key:1,class:"space-y-6"},H={class:"px-6 py-4"},$={class:"flex items-center mb-6"},q={class:"h-20 w-20 rounded-full bg-blue-600 flex items-center justify-center text-white text-2xl font-medium"},J={class:"ml-6"},G={class:"text-xl font-semibold text-gray-900"},K={class:"text-gray-600"},O={class:"flex flex-wrap gap-2 mt-2"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Q={class:"text-sm text-gray-900"},W={class:"text-sm text-gray-900"},X={class:"text-sm text-gray-900"},Y={class:"text-sm text-gray-900"},Z={class:"text-sm text-gray-900"},tt={class:"flex justify-end space-x-4"},et={key:2,class:"text-center py-8"},gt={__name:"[id]",setup(st){const h=D(),k=I();v();const p=h.params.id,g=f(!0),s=f(null),w=n=>({admin:"bg-purple-100 text-purple-800",technicien:"bg-blue-100 text-blue-800",manager:"bg-green-100 text-green-800",client:"bg-gray-100 text-gray-800"})[n]||"bg-gray-100 text-gray-800",C=n=>({admin:"Administrateur",technicien:"Technicien",manager:"Manager",client:"Client"})[n]||"Inconnu",N=n=>({cableur:"bg-indigo-100 text-indigo-800",terrassier:"bg-orange-100 text-orange-800",autre:"bg-gray-100 text-gray-800"})[n]||"bg-gray-100 text-gray-800",j=n=>({cableur:"Câbleur",terrassier:"Terrassier",autre:"Autre"})[n]||"Autre",y=n=>n?new Date(n).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non définie",M=()=>{k.push(`/users/${p}/edit`)};return V(async()=>{try{const{users:n,fetchUsers:e}=v();await e(),s.value=n.value.find(m=>m.id==p)}catch(n){console.error("Erreur lors du chargement de l'utilisateur:",n)}finally{g.value=!1}}),(n,e)=>{const m=R,u=T,b=B;return i(),l("div",null,[a(m),t("main",U,[t("div",S,[t("div",z,[e[1]||(e[1]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900"},"Détails utilisateur"),t("p",{class:"text-gray-600"},"Informations détaillées de l'utilisateur")],-1)),a(u,{to:"/users",class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors"},{default:d(()=>e[0]||(e[0]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),c(" Retour à la liste ",-1)])),_:1,__:[0]})]),r(g)?(i(),l("div",E,e[2]||(e[2]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)]))):r(s)?(i(),l("div",F,[a(b,null,{content:d(()=>[e[9]||(e[9]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Informations générales")],-1)),t("div",H,[t("div",$,[t("div",q,o(r(s).nom?.[0]||r(s).username?.[0]||"U"),1),t("div",J,[t("h2",G,o(r(s).nom_complet),1),t("p",K,o(r(s).email),1),t("div",O,[t("span",{class:x([w(r(s).role),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},o(C(r(s).role)),3),r(s).role==="technicien"&&r(s).type_technicien?(i(),l("span",{key:0,class:x([N(r(s).type_technicien),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},o(j(r(s).type_technicien)),3)):_("",!0)])])]),t("div",P,[t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Nom d'utilisateur ",-1)),t("p",Q,o(r(s).username),1)]),t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Téléphone ",-1)),t("p",W,o(r(s).telephone||"Non renseigné"),1)]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Spécialité ",-1)),t("p",X,o(r(s).specialite||"Non renseignée"),1)]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Statut ",-1)),t("span",{class:x([r(s).is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},o(r(s).is_active?"Actif":"Inactif"),3)]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Créé le ",-1)),t("p",Y,o(y(r(s).created_at)),1)]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Dernière connexion ",-1)),t("p",Z,o(r(s).last_login?y(r(s).last_login):"Jamais connecté"),1)])])])]),_:1}),r(s).role==="technicien"?(i(),A(b,{key:0},{content:d(()=>e[10]||(e[10]=[t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Interventions récentes")],-1),t("div",{class:"px-6 py-4"},[t("div",{class:"text-center py-8 text-gray-500"},[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),t("p",{class:"mt-2"},"Fonctionnalité à implémenter")])],-1)])),_:1})):_("",!0),t("div",tt,[a(u,{to:"/users",class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors"},{default:d(()=>e[11]||(e[11]=[c(" Retour ",-1)])),_:1,__:[11]}),t("button",{onClick:M,class:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors"}," Modifier ")])])):(i(),l("div",et,[e[13]||(e[13]=L('<div class="text-red-600 mb-4"><svg class="mx-auto h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><h3 class="text-lg font-medium text-gray-900 mb-2">Utilisateur non trouvé</h3><p class="text-gray-500 mb-4">L&#39;utilisateur demandé n&#39;existe pas ou n&#39;est plus accessible.</p>',3)),a(u,{to:"/users",class:"btn-primary"},{default:d(()=>e[12]||(e[12]=[c(" Retour à la liste ",-1)])),_:1,__:[12]})]))])])])}}};export{gt as default};
