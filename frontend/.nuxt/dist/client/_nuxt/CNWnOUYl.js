import{_ as k}from"./CyJ7lqwL.js";import{_ as w}from"./TrVZK8xw.js";import{_ as C}from"./BwcFvxo7.js";import $ from"./D5k--mLm.js";import{q as B,e as M,r as j,j as N,c as a,b as i,a as e,g as L,t as S,i as s,w as c,x as V,o as l,d as p}from"./DYlgVOq5.js";import{u as E}from"./Cf6dUNb6.js";import"./Bo_PBiFp.js";import"./Bjy1Ed27.js";import"./8hyyyOHM.js";import"./BwzGxkg-.js";import"./CBaYzeil.js";import"./DFhEUFyw.js";import"./DlAUqK2U.js";import"./DyNxa_Fv.js";import"./2TbVYi8k.js";import"./BG2qx38A.js";import"./B20p3wMs.js";const R={class:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8"},z={class:"px-4 py-6 sm:px-0"},A={class:"flex items-center justify-between mb-8"},I={class:"text-2xl font-bold text-gray-900"},q={key:0,class:"flex justify-center py-8"},D={class:"px-6 py-6"},F={key:2,class:"text-center py-8"},rt={__name:"edit",setup(H){const u=B(),d=M(),{fetchClient:x,updateClient:_,loading:f}=E(),r=u.params.id,n=j(null),y=async o=>{const t=await _(o);t.success?d.push(`/clients/${r}`):alert(`Erreur: ${t.message}`)},g=()=>{d.push(`/clients/${r}`)};return N(async()=>{try{const o=await x(r);o&&(n.value=o)}catch(o){console.error("Erreur lors du chargement du client:",o)}}),(o,t)=>{const b=k,m=w,h=C,v=$;return l(),a("div",null,[i(b),e("main",R,[e("div",z,[e("div",A,[e("div",null,[e("h1",I,S(s(n)?`Modifier ${s(n).nom}`:"Modifier le client"),1),t[0]||(t[0]=e("p",{class:"text-gray-600"},"Modifiez les informations du client",-1))]),i(m,{to:`/clients/${s(r)}`,class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors"},{default:c(()=>t[1]||(t[1]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),p(" Annuler ",-1)])),_:1,__:[1]},8,["to"])]),s(f)?(l(),a("div",q,t[2]||(t[2]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)]))):s(n)?(l(),L(v,{key:1},{content:c(()=>[t[3]||(t[3]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Informations du client")],-1)),e("div",D,[i(h,{client:s(n),onSubmit:y,onCancel:g},null,8,["client"])])]),_:1})):(l(),a("div",F,[t[5]||(t[5]=V('<div class="text-red-600 mb-4"><svg class="mx-auto h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><h3 class="text-lg font-medium text-gray-900 mb-2">Client non trouvé</h3><p class="text-gray-500 mb-4">Le client demandé n&#39;existe pas ou n&#39;est plus accessible.</p>',3)),i(m,{to:"/clients",class:"btn-primary"},{default:c(()=>t[4]||(t[4]=[p(" Retour à la liste ",-1)])),_:1,__:[4]})]))])])])}}};export{rt as default};
